webpackJsonp([2],{191:function(t,n,o){function e(t){o(468)}var s=o(36)(o(216),o(487),e,"data-v-3cf878c3",null);t.exports=s.exports},193:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(58),s=(o.n(e),o(68)),a=o(484),i=o.n(a),r=o(221),c=o(189),u=o.n(c),f=o(467);o.n(f);s.default.use(u.a),new s.default({el:"#app",store:r.a,template:"<App/>",components:{App:i.a}})},215:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(485),s=o.n(e),a=o(486),i=o.n(a);n.default={name:"app",data:function(){return{login:!0}},components:{Login:s.a,Register:i.a},methods:{toggle:function(){this.login=!this.login}}}},216:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={props:["content","info"],data:function(){return{tipShow:!1}},computed:{tipInfo:function(){return""===this.info?this.content:this.info}},methods:{handleShowPopper:function(){this.tipShow=!0},handleClosePopper:function(){""!==this.info?this.tipShow=!0:this.tipShow=!1}}}},217:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(50),s=o.n(e),a=o(37),i=o(91),r=(o(60),o(191)),c=o.n(r);n.default={data:function(){return{account:"",password:"",loadStatu:!1,accountInfo:"",passwordInfo:""}},components:{Mytip:c.a},computed:s()({},o.i(a.a)({user:function(t){return t.user}})),methods:s()({},o.i(a.b)(i.a.actions),{toLogin:function(){var t=this;this.check()&&(this.loadStatu=!0,this.Login({userId:this.account,password:this.password}).then(function(n){n.state?t.onSuccess(n.info):t.onError(n.info)}).catch(function(n){t.onError(n)}))},onSuccess:function(t){this.$Message.success(t),window.location.href="./homepage.html"},onError:function(t){this.loadStatu=!1,this.$Message.error(t)},toRegister:function(){this.$emit("to-register")},check:function(){return""!=this.account.trim()&&""!=this.password.trim()||(this.$Message.error("请填写好所有的信息"),!1)},forgetPasswork:function(){this.$Message.info("该功能还未完成，敬请期待！")}})}},218:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(50),s=o.n(e),a=o(37),i=o(91),r=(o(60),o(191)),c=o.n(r);n.default={data:function(){return{userName:"",account:"",password:"",rePassword:"",loadStatu:!1,nameInfo:"",accountInfo:"",passwordInfo:"",rePasswordInfo:""}},components:{Mytip:c.a},computed:s()({},o.i(a.a)({})),methods:s()({},o.i(a.b)(i.a.actions),{toRegister:function(){var t=this;this.check()&&(this.loadStatu=!0,this.Register({userId:this.account,userName:this.userName,password:this.password}).then(function(n){n.state?(t.onSuccess(n.info),t.toLogin()):t.onError(n.info)}).catch(function(n){t.onError(n)}))},onSuccess:function(t){this.$Message.success(t)},onError:function(t){this.loadStatu=!1,this.$Message.error(t)},toLogin:function(){this.$emit("to-login")},check:function(){return""==this.userName.trim()||""==this.account.trim()||""==this.password.trim()||this.password.trim()!==this.rePassword.trim()?(this.$Message.error("请填写好所有的信息"),!1):6===this.account.length||(this.$Message.error("账号长度为6位"),!1)}}),watch:{userName:function(t){""===t.trim()?this.nameInfo="请输入用户名":this.nameInfo=""},account:function(t){""===t?this.accountInfo="请输入账号":6!==t.length&&(this.accountInfo="账号长度为6位")},password:function(t){""===t&&(this.passwordInfo="请输入密码")},rePassword:function(t){""===t?this.rePasswordInfo="请确定密码":this.rePassword!==this.password?this.rePasswordInfo="确认密码不匹配":this.rePasswordInfo=""}},created:function(){var t=this;this.getAllDepartment().then(function(n){n.state?t.departmentId=t.allDepartmentList[0].departmentId:t.onError(n.info)}).catch(function(n){t.onError(n)})}}},221:function(t,n,o){"use strict";var e=o(68),s=o(37),a=o(222);e.default.use(s.c),n.a=new s.c.Store({modules:{user:a.a}})},222:function(t,n,o){"use strict";var e,s=o(93),a=o.n(s),i=o(139),r=o.n(i),c=o(138),u=o.n(c),f=o(91),l=o(60),p={allDepartmentList:[]},d=(e={},r()(e,f.a.actions.Login,function(t,n){return new u.a(function(t,e){o.i(l.a)({method:"POST",url:"homepage/login",data:n}).then(function(n){t("1"===n.data.state.toString()?{state:!0,info:n.data.stateInfo}:{state:!1,info:n.data.stateInfo})}).catch(function(t){e(t)})})}),r()(e,f.a.actions.Register,function(t,n){return new u.a(function(t,e){o.i(l.a)({method:"POST",url:"homepage/register",data:n}).then(function(n){t("1"===n.data.state.toString()?{state:!0,info:n.data.stateInfo}:{state:!1,info:n.data.stateInfo})}).catch(function(t){e(t)})})}),e),h=r()({},f.a.mutations.setInfo,function(t,n){a()(t,n)});n.a={state:p,actions:d,mutations:h}},467:function(t,n){},468:function(t,n){},469:function(t,n){},470:function(t,n){},472:function(t,n){},484:function(t,n,o){function e(t){o(470)}var s=o(36)(o(215),o(489),e,"data-v-55223fe4",null);t.exports=s.exports},485:function(t,n,o){function e(t){o(472)}var s=o(36)(o(217),o(491),e,"data-v-72a8f7dd",null);t.exports=s.exports},486:function(t,n,o){function e(t){o(469)}var s=o(36)(o(218),o(488),e,"data-v-49559042",null);t.exports=s.exports},487:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"tip",on:{mouseenter:t.handleShowPopper,mouseleave:t.handleClosePopper,input:t.handleShowPopper}},[o("transition",{attrs:{name:"fade"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.tipShow,expression:"tipShow"}],staticClass:"content"},[o("Icon",{attrs:{type:"arrow-left-b",color:"rgba(255, 255, 255, 0.75)"}}),o("span",[t._v(t._s(this.tipInfo))])],1)]),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},488:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("center",[o("div",{staticClass:"form",on:{keyup:function(n){return"button"in n||!t._k(n.keyCode,"enter",13,n.key,"Enter")?t.toRegister(n):null}}},[o("Mytip",{attrs:{content:"用户名",info:t.nameInfo}},[o("Input",{staticClass:"input",attrs:{type:"text",placeholder:"用户名",icon:"ios-person-outline"},model:{value:t.userName,callback:function(n){t.userName=n},expression:"userName"}})],1),t._v(" "),o("Mytip",{attrs:{content:"账号",info:t.accountInfo}},[o("Input",{staticClass:"input",attrs:{type:"text",placeholder:"账号",icon:"ios-account-outline"},model:{value:t.account,callback:function(n){t.account=n},expression:"account"}})],1),t._v(" "),o("Mytip",{attrs:{content:"密码",info:t.passwordInfo}},[o("Input",{staticClass:"input",attrs:{type:"password",placeholder:"密码",icon:"ios-locked-outline"},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}})],1),t._v(" "),o("Mytip",{attrs:{content:"确认密码",info:t.rePasswordInfo}},[o("Input",{staticClass:"input",attrs:{type:"password",placeholder:"确认密码",icon:"ios-unlocked-outline"},model:{value:t.rePassword,callback:function(n){t.rePassword=n},expression:"rePassword"}})],1),t._v(" "),o("Button",{staticClass:"login-bt",attrs:{type:"primary",long:"",loading:t.loadStatu},on:{click:t.toRegister}},[t._v("注册")]),t._v(" "),o("div",[o("a",{staticClass:"a-login",attrs:{href:"#"},on:{click:t.toLogin}},[t._v("前往登录")])])],1)])},staticRenderFns:[]}},489:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{attrs:{id:"app"}},[o("h1",{staticClass:"title"},[t._v("仓库管理系统")]),t._v(" "),t.login?o("Login",{on:{"to-register":t.toggle}}):o("Register",{on:{"to-login":t.toggle}})],1)},staticRenderFns:[]}},491:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("center",[o("div",{staticClass:"form",on:{keyup:function(n){return"button"in n||!t._k(n.keyCode,"enter",13,n.key,"Enter")?t.toLogin(n):null}}},[o("Mytip",{attrs:{content:"账号",info:t.accountInfo}},[o("Input",{staticClass:"input",attrs:{type:"text",placeholder:"账号",icon:"ios-email-outline"},model:{value:t.account,callback:function(n){t.account=n},expression:"account"}})],1),t._v(" "),o("Mytip",{attrs:{content:"密码",info:t.passwordInfo}},[o("Input",{staticClass:"input",attrs:{type:"password",placeholder:"密码",icon:"ios-locked-outline"},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}})],1),t._v(" "),o("Button",{staticClass:"login-bt",attrs:{type:"primary",long:"",loading:t.loadStatu},on:{click:t.toLogin}},[t._v("登录")]),t._v(" "),o("div",[o("a",{staticClass:"forget-psw",attrs:{href:"#"},on:{click:t.forgetPasswork}},[t._v("忘记密码")]),t._v(" "),o("a",{staticClass:"register",attrs:{href:"#"},on:{click:t.toRegister}},[t._v("前往注册")])])],1)])},staticRenderFns:[]}},497:function(t,n,o){o(58),t.exports=o(193)},60:function(t,n,o){"use strict";o.d(n,"a",function(){return a});var e=o(131),s=o.n(e),a=s.a.create({baseURL:"/api/"})},91:function(t,n,o){"use strict";var e=o(92);n.a=o.i(e.a)("user",{actions:["Login","Register"],mutations:["setInfo"]})},92:function(t,n,o){"use strict";function e(t,n){var o={};return a()(t).forEach(function(e){o[e]=n(t[e],e)}),o}var s=o(137),a=o.n(s);n.a=function(t,n){var o={};return e(n,function(e,s){o[s]={},n[s].forEach(function(n){var e=t+":"+n;o[s][n]=e})}),o}}},[497]);
//# sourceMappingURL=login.f244440c2e13a5cdab6d.js.map